<!--
  Generated template for the DownloadPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>批量下载</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="rightBtnClick();">
        {{rightTitle}}
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>

<ion-content>
  <ion-list *ngIf="!!catalogs" [virtualScroll]="catalogs.chapters" approxItemHeight="60px">
    <button ion-item *virtualItem="let item" (click)="select(item)" detail-none class="download-item">
      <h2>{{item.chapterTitle}}</h2>
      <!-- <ion-note item-right class="cb-box"> -->
        <div class="item-cb" item-right *ngIf = "item.iswaiting === 0" (click)="selectItem(item)">
          <ion-icon name="ios-checkmark-outline" *ngIf="item.isSelected">
          </ion-icon>
        </div>
        <ion-note item-right class="download-box" *ngIf = "item.iswaiting !== 0 && item.isSelected">
         <button ion-button icon-only clear (click)="handleDownload(item);">
          <ion-icon name="{{item.icon_name}}"></ion-icon>
         </button> 
        <p class="download-state">{{item.status}}</p>
        </ion-note>
      <!-- </ion-note> -->
      </button>
  </ion-list>
</ion-content>
<ion-footer>
    <div class="button-bar"> 
      <button ion-button outline (click)="selectMutil()" class="custom-btn">
        连选
      </button>
      <button ion-button outline (click)="reverse()" class="custom-btn">
        反序
      </button>
      <button ion-button outline (click)="unselectAll()" class="custom-btn">
        反选
      </button>
      <button ion-button outline (click)="selectAll()" class="custom-btn">
        全选
      </button>
      <button ion-button outline (click)="downloadSelectitems()" class="custom-btn large-btn">
        下载选中章节
      </button>
    </div>
</ion-footer>
